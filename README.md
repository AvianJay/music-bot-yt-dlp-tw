# Discord 音樂機器人
### 基於yt-dlp，原儲存庫：[SpaceCowboyZZ/music-bot-yt-dlp](https://github.com/SpaceCowboyZZ/music-bot-yt-dlp)
對原本的儲存庫新增了幾個功能：
* 繁體中文化
* 可在多個伺服器使用
* 可使用斜線命令
* 單獨分出config.json
* 離開頻道指令<br>
目前還有很多不穩定的地方！如果可以請到[issues](https://github.com/AvianJay/music-bot-yt-dlp-tw/issues)新建問題！
# 原文
這是非常基本的，我不打算讓它變得更複雜，但它仍然需要對隊列進行一些改進。 需要更多測試，但它確實有效。

 它的工作原理如下：

 這是非常基本的，但更複雜的部分是使 yt-dlp 不會中斷，因為它不是非同步的。 我使用並發.futures 使其在線程中運行，因此，如果您發送一個非常大的播放列表（例如 100 首歌曲），則無需等到 yt-dlp 獲取播放列表中的所有視頻，然後才能使用!再次播放命令。 問題是您需要等到所有影片都被獲取後才能將其放入隊列中。 因此，如果在已經存在正在搜尋的播放列表時使用 !play，如果它是單個視頻或小播放列表，它將在獲取大播放列表之前發送到隊列。 我沒有實現任何方法讓任務在仍在執行時停止，因為我真的不需要它（笑），而且它對我來說是這樣的。

 queue、actual_url 和thumb_url 用於儲存當前播放歌曲時要在嵌入訊息中發送的視訊訊息。  bot.playstatus 用於檢查機器人是否仍處於「播放」模式，因此目前播放的歌曲結束後會播放佇列中的下一首歌曲。  bot.doom 是為了確保當後台正在搜尋影片或播放清單時，機器人在使用 !stop 後停止。 差不多就這樣了。